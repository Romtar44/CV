@mixin align-center {
	display: flex;
	justify-content: center;
	align-items: center;
}

.container {
	display: flex;
	justify-content: center;
	width: calc($BoxSize * 1.15);
	height: calc($BoxSize * 1.15);

	.boxContainer {
		width: $BoxSize;
		height: $BoxSize;
		border-radius: $BoxBorderRadius;
		position: relative;
		transition: $BoxTransitionTime ease-out;
		overflow: hidden;
		cursor: pointer;
		margin: auto;

		.blurred {
			width: 120%;
			height: calc(28% + 17px);
			position: absolute;
			bottom: -10%;
			left: 50%;
			translate: -50%;
			filter: blur(17px);
		}

		.title {
			padding-left: $SidePadding;
			padding-right: $SidePadding;
			top: 83%;
			bottom: 0%;
			left: 0%;
			right: 0%;
			position: absolute;
			width: $BoxSize;
			height: fit-content;
			font-size: 1em;
			animation: reverseBounceTitle 200ms linear;
			color: white;
		}

		.mainImgContainer {
			overflow: hidden;
			display: flex;
			border-radius: $BoxBorderRadius;
		}

		.marquee {
			display: none;
		}

		.boxTitleContainer {
			display: flex;
			width: 100%;
			height: fit-content;
			position: absolute;
			top: 100%;
			animation: reverseTitle $TitleBounceTime ease-in-out;

			.arrowContainer {
				display: flex;
				width: 10%;
				aspect-ratio: 1/1;
				position: absolute;
				right: 7%;
				top: 200%;
				border-radius: 50%;
				transition: rotate $TitleBounceTime linear;

				.arrow {
					display: flex;
					border-radius: 50%;
				}
			}
		}

		&:hover {
			transform: scale(1.05);

			.marquee {
				display: block;
			}

			.title {
				display: none;
			}

			.boxTitleContainer {
				animation: bounceTitle $TitleBounceTime linear;
				top: 78%;

				.arrowContainer {
					display: flex;
					rotate: 230deg;
					transition: rotate 400ms linear;
					right: 7%;
					translate: 0 20%;
				}
			}

			.mainImgContainer {
				border: none;
				position: relative;
				transform: scale(1.05);
				object-position: center center;

				img {
					animation: bounceImage $BounceAnimTime linear;
					position: relative;
				}
			}
		}
	}
}

@media screen and (max-width: $DesktopBreakpoint) {
	.container {
		width: calc($MediumBoxSize * 1.15);
		height: calc($MediumBoxSize * 1.15);

		.boxContainer {
			width: $MediumBoxSize;
			height: $MediumBoxSize;

			.arrowContainer {
				translate: 0 20%;
			}

			&:hover {
				transform: scale(1.05);
			}
		}
	}
}

@media screen and (max-width: $MediumBreakpoint) {
	.container {
		width: calc($SmallBoxSize * 1.15);
		height: calc($SmallBoxSize * 1.15);

		.boxTitleContainer {
			top: 78% !important;
			animation: none;
			display: flex;

			.arrowContainer {
				width: 10%;
				aspect-ratio: 1/1;
				transition: none;
				rotate: 230deg;
			}
		}

		.boxContainer {
			transition: none;
			width: $SmallBoxSize;
			height: $SmallBoxSize;

			.title {
				animation: none;
			}

			&:hover {
				transform: scale(1);

				.arrowContainer {
					transition: none;
				}

				.mainImgContainer {
					animation: none;
					transform: scale(1);

					img {
						animation: none;
					}
				}

				.marquee {
					display: none;
				}
			}
		}
	}
}

@media screen and (max-width: $SmallBreakpoint) {
	.container {
		width: calc($MobileBoxSize * 1.05);
		height: calc($MobileBoxSize * 1.05);

		.boxContainer {
			transition: none;
			width: $MobileBoxSize;
			height: $MobileBoxSize;

			&:hover {
				width: $MobileBoxSize;
				height: $MobileBoxSize;
			}
		}
	}
}

@keyframes reverseTitle {
	0% {
		top: 80%;
	}

	100% {
		top: 100%;
	}
}

@keyframes bounceTitle {
	0% {
		top: 100%;
	}

	90% {
		top: 75%;
	}
}

@keyframes reverseBounceTitle {
	0% {
		opacity: 0;
		top: 75%;
	}

	50% {
		opacity: 1;
		top: 75%;
	}

	90% {
		top: 85%;
	}
}

@keyframes bounceImage {
	0% {
		transform: scale(1);
	}

	85% {
		transform: scale(1.1);
	}

	100% {
		transform: scale(1);
	}
}
